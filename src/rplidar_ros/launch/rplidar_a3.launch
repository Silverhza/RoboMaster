<launch>
  <arg name="node_namespace" value="$(optenv CAR_ID)"/>

  <node name="rplidarNode_a3"          pkg="rplidar_ros"  type="rplidarNode" output="screen" ns="$(arg node_namespace)" launch-prefix="taskset -c 1">
    <param name="serial_port"         type="string" value="/dev/rplidar_a3"/>  
    <param name="serial_baudrate"     type="int"    value="256000"/><!--A3 -->
    <param name="frame_id"            type="string" value="$(arg node_namespace)/front_laser_link"/>
    <param name="inverted"            type="bool"   value="false"/>
    <param name="angle_compensate"    type="bool"   value="true"/>
    <param name="scan_mode"           type="string" value="Sensitivity"/>
    <remap from="scan" to="raw_front_scan"/>
  </node>

  <node pkg="laser_filters" type="scan_to_scan_filter_chain" output="screen" name="front_laser_filter" ns="$(arg node_namespace)" launch-prefix="taskset -c 1">
    <remap from="scan" to="raw_front_scan" />
    <remap from="scan_filtered" to="front_scan" />
    <rosparam command="load" file="$(find laser_filters)/examples/box_filter_$(optenv CAR_ID).yaml" />
  </node>
</launch>
